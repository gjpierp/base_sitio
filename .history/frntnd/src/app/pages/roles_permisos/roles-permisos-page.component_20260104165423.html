<div class="page-animate" [class.page-ready]="datosListos">
  <ui-card [title]="title" [subtitle]="subtitle">
    <div
      class="spread"
      style="margin-bottom: 1rem; align-items: center; display: flex; gap: 0.5rem"
    >
      <ui-spinner *ngIf="loading" label="Cargando"></ui-spinner>
      <div *ngIf="!loading && error" class="muted">{{ error }}</div>
      <ng-container *ngIf="!loading">
        <div style="margin-left: auto">
          <ui-button
            variant="primary"
            (pressed)="onCreate()"
            icon="add"
            [iconOnly]="true"
            ariaLabel="Crear"
          ></ui-button>
        </div>
      </ng-container>
    </div>
    <div *ngIf="!loading && datosListos">
      <ui-entity-table
        [title]="title"
        [subtitle]="subtitle"
        [total]="total"
        [columns]="columns"
        [data]="data"
        [loading]="loading"
        [error]="error"
        [page]="currentPage"
        (pageChange)="onPageChange($event)"
        (edit)="onEdit($event)"
        (remove)="onRemove($event)"
      ></ui-entity-table>
    </div>
  </ui-card>
</div>
