.sidebar-item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 0;
  border-radius: 6px;
  transition: background 0.2s;
}

/* Solo mostrar iconos cuando el sidebar está colapsado */
.ui-sidebar.collapsed .sidebar-item .sidebar-text,
.ui-sidebar.collapsed .sidebar-item .expand-btn {
  display: none !important;
}
.ui-sidebar.collapsed .sidebar-item {
  justify-content: center;
  gap: 0;
}

/* Quitar indentación cuando el sidebar esté colapsado */
.ui-sidebar.collapsed .sidebar-item {
  padding-left: 0 !important;
}

/* Ocultar los hijos en modo colapsado */
.ui-sidebar.collapsed .sidebar-children {
  display: none !important;
}

/* Además soportar estado de colapso aplicado al host del sidebar
   (necesario para encapsulación de estilos en componentes hijos) */
:host-context(.collapsed) .sidebar-text,
:host-context(.collapsed) .expand-btn {
  display: none !important;
}
:host-context(.collapsed) .sidebar-item {
  justify-content: center;
  gap: 0;
}
:host-context(.collapsed) .sidebar-item {
  padding-left: 0 !important;
}
:host-context(.collapsed) .sidebar-children {
  display: none !important;
}

/* Forzar color en el texto del sidebar */
/* Forzar color de texto del sidebar y agregar borde para debug */
.ui-sidebar:not(.collapsed) .sidebar-item span:not(.material-symbols-outlined) {
  color: var(--sidebar-text, var(--color-text-inverse, #fff)) !important;
  opacity: 1 !important;
  display: inline !important;
}
.ui-sidebar-item a.active {
  background: var(--bg-active);
  color: var(--color-text-inverse) !important;
}
.ui-sidebar-item.has-children {
  font-weight: 600;
}
.expand-btn {
  background: var(--bg-sidebar);
  border: none;
  color: var(--sidebar-text, var(--color-text-inverse));
  cursor: pointer;
  margin-left: auto;
  padding: 0 4px;
  border-radius: 6px;
}
.expand-btn:hover,
.expand-btn:focus-visible {
  background: var(--bg-sidebar-active);
}
.ui-sidebar-children {
  margin-left: 8px;
  border-left: 2px solid rgba(255, 255, 255, 0.08);
  padding-left: 8px;
}

/* Flyout when sidebar is collapsed: positioned next to the sidebar and aligned with the item */
.flyout {
  position: fixed;
  z-index: 1400;
  background: var(--bg-sidebar);
  border: 1px solid rgba(255, 255, 255, 0.06);
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.25);
  border-radius: 8px;
  min-width: 180px;
  padding: 6px;
}
.flyout-inner a {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 6px 8px;
  color: var(--sidebar-text, var(--color-text-inverse));
  text-decoration: none;
  border-radius: 6px;
}
.flyout-inner a:hover {
  background: var(--bg-sidebar-active);
}
.flyout-label {
  white-space: nowrap;
}

/* Flyout para mostrar hijos cuando el sidebar está colapsado */
.sidebar-item {
  position: relative;
}
.flyout {
  position: absolute;
  left: 100%;
  top: 0;
  background: var(--bg-sidebar);
  border: 1px solid rgba(255, 255, 255, 0.06);
  min-width: 220px;
  padding: 6px;
  border-radius: 8px;
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.18);
  z-index: 1200;
}
.flyout-item {
  display: flex;
  gap: 10px;
  align-items: center;
  padding: 6px 8px;
  color: var(--sidebar-text, var(--color-text-inverse));
  text-decoration: none;
  border-radius: 6px;
}
.flyout-item:hover,
.flyout-item:focus {
  background: var(--bg-sidebar-active);
}
.flyout-text {
  white-space: nowrap;
}

/* Ajuste cuando el sidebar está colapsado: alinear flyout junto al sidebar estrecho */
.ui-sidebar.collapsed .flyout,
:host-context(.collapsed) .flyout {
  left: 68px;
}

/* Focus visible para label clickeable accesible */
.ui-sidebar-item [role='button']:focus-visible {
  outline: 2px solid var(--focus-ring);
  outline-offset: 2px;
  border-radius: 6px;
}
