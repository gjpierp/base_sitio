/* Forzar color negro solo para los íconos de los botones en el sidebar */
.sidebar-item button .material-symbols-outlined,
.ui-sidebar-item button .material-symbols-outlined {
  color: #111 !important;
}
/* Colores personalizados para íconos según función */
.material-symbols-outlined.icon-edit {
  color: #2196f3 !important; /* azul para editar */
}
.material-symbols-outlined.icon-delete {
  color: #f44336 !important; /* rojo para eliminar */
}
.material-symbols-outlined.icon-add {
  color: #4caf50 !important; /* verde para agregar */
}
.sidebar-item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 0;
  border-radius: 6px;
  transition: background 0.2s;
}

/* Solo mostrar iconos cuando el sidebar está colapsado */
.ui-sidebar.collapsed .sidebar-item .sidebar-text,
.ui-sidebar.collapsed .sidebar-item .expand-btn {
  display: none !important;
}
.ui-sidebar.collapsed .sidebar-item {
  justify-content: center;
  gap: 0;
}

/* Quitar indentación cuando el sidebar esté colapsado */
.ui-sidebar.collapsed .sidebar-item {
  padding-left: 0 !important;
}

/* Ocultar los hijos en modo colapsado */
.ui-sidebar.collapsed .sidebar-children {
  display: none !important;
}

/* Además soportar estado de colapso aplicado al host del sidebar
   (necesario para encapsulación de estilos en componentes hijos) */
:host-context(.collapsed) .sidebar-text,
:host-context(.collapsed) .expand-btn {
  display: none !important;
}
:host-context(.collapsed) .sidebar-item {
  justify-content: center;
  gap: 0;
}
:host-context(.collapsed) .sidebar-item {
  padding-left: 0 !important;
}
:host-context(.collapsed) .sidebar-children {
  display: none !important;
}

/* Forzar color blanco en el texto del sidebar y menú activo/seleccionado SIEMPRE */
.ui-sidebar .sidebar-item span:not(.material-symbols-outlined),
.ui-sidebar-item a,
.ui-sidebar-item a.active,
.sidebar-item a,
.sidebar-item button,
.expand-btn,
.flyout-inner a,
.flyout-item {
  color: #fff !important;
  opacity: 1 !important;
  display: inline !important;
}
.ui-sidebar-item a.active {
  background: var(--bg-active);
  color: #fff !important;
}
.ui-sidebar-item.has-children {
  font-weight: 600;
}
.expand-btn {
  background: var(--bg-sidebar);
  border: none;
  color: var(--sidebar-text, var(--color-text-inverse));
  cursor: pointer;
  margin-left: auto;
  padding: 0 4px;
  border-radius: 6px;
}
.expand-btn:hover,
.expand-btn:focus-visible {
  background: var(--bg-sidebar-active);
}
.ui-sidebar-children {
  margin-left: 8px;
  border-left: 2px solid rgba(255, 255, 255, 0.08);
  padding-left: 8px;
}

/* Flyout: la posición la define el estilo inline (flyoutStyle) */
.flyout {
  min-width: 180px;
  z-index: 1400;
  background: var(--bg-sidebar);
  border: 1px solid rgba(255, 255, 255, 0.06);
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.25);
  border-radius: 8px;
  padding: 6px;
  display: block;
}
/* Forzar color blanco en el texto del menú al pasar el cursor */
.flyout-inner {
  display: flex;
  flex-direction: column;
  gap: 0;
}
.flyout-inner a {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 6px 8px;
  color: #fff !important;
  text-decoration: none;
  border-radius: 6px;
  transition: background 0.2s, color 0.2s;
}
.flyout-inner a:hover {
  background: var(--bg-sidebar-active);
  color: #fff !important;
}
.flyout-label {
  white-space: nowrap;
}

/* Flyout para mostrar hijos cuando el sidebar está colapsado */
.sidebar-item {
  position: relative;
}
/* El flyout ya está ajustado arriba para mostrarse hacia abajo */
.flyout-item {
  display: flex;
  gap: 10px;
  align-items: center;
  padding: 6px 8px;
  color: var(--sidebar-text, var(--color-text-inverse));
  text-decoration: none;
  border-radius: 6px;
}
.flyout-item:hover,
.flyout-item:focus {
  background: var(--bg-sidebar-active);
}

/* Forzar fondos transparentes en botones/enlaces del sidebar */
.ui-sidebar-item a,
.ui-sidebar-item a.active,
.sidebar-item a,
.sidebar-item button,
.expand-btn,
.flyout-inner a,
.flyout-item {
  background: transparent !important;
  background-color: transparent !important;
  box-shadow: none !important;
}

/* Mantener color en activo pero sin fondo */
.ui-sidebar-item a.active {
  color: var(--color-primary, var(--color-text-inverse)) !important;
}

/* Hover: cambiar solo el color de texto (sin fondo) */
.flyout-inner a,
.flyout-inner a:hover,
.flyout-item,
.flyout-item:hover,
.sidebar-item:hover a,
.sidebar-item:hover {
  color: #fff !important;
  background: var(--bg-sidebar-active, #222) !important;
}
.flyout-text {
  white-space: nowrap;
}

/* Eliminar ajuste lateral, el flyout se posiciona debajo del ítem */

/* Focus visible para label clickeable accesible */
.ui-sidebar-item [role='button']:focus-visible {
  outline: 2px solid var(--focus-ring);
  outline-offset: 2px;
  border-radius: 6px;
}
