<table class="table w-full mresponsive-table bg-center">
  <thead>
    <tr>
      <th *ngFor="let col of visibleColumns; trackBy: trackByCol" scope="col">
        {{ col.label }}
      </th>
      <th *ngIf="edit.observed || remove.observed" class="actions-header">Acciones</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let row of data; trackBy: trackByRow">
      <td *ngFor="let col of visibleColumns; trackBy: trackByCol">
        {{ row[col.key] }}
      </td>
      <td *ngIf="edit.observed || remove.observed" class="actions-cell">
        <div class="actions-wrapper">
          <ui-button
            label="Editar"
            variant="success"
            icon="edit"
            [iconOnly]="true"
            (pressed)="emitEdit(row)"
            ariaLabel="Editar"
          ></ui-button>
          <ui-button
            label="Eliminar"
            variant="danger"
            icon="delete"
            [iconOnly]="true"
            (pressed)="emitRemove(row)"
            ariaLabel="Eliminar"
          ></ui-button>
        </div>
      </td>
    </tr>
    <tr *ngIf="!loading && (!data || data.length === 0)">
      <td
        [attr.colspan]="visibleColumns.length + (edit.observed || remove.observed ? 1 : 0)"
        class="no-data"
      >
        No hay datos disponibles
      </td>
    </tr>
  </tbody>
</table>

<div *ngIf="loading" class="loading-shade">
  <ui-spinner></ui-spinner>
</div>
<div class="footer w-full bg-center">
  <ui-pagination
    [page]="page"
    [pageSize]="effectivePageSize"
    [totalItems]="total"
    (pageChange)="onPage($event)"
  >
  </ui-pagination>
</div>
